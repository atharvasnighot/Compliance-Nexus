<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="act.css">
</head>

<body>
    <div class="container">
        <div class="act-section" id="act-section">
            <!-- Act details will be inserted here -->
        </div>

        <div class="compliance-list" id="compliance-list">
            <!-- Compliance list will be inserted here -->
        </div>
    </div>


    
    <script>
       document.addEventListener("DOMContentLoaded", function () {
    // Fetch Act details and Compliance list
    const actId = 2;
    const complianceList = document.getElementById('compliance-list');

    fetch(`http://localhost:8080/act/${actId}`)
        .then(response => response.json())
        .then(data => {
            // Update Act details
            const actSection = document.getElementById('act-section');
            actSection.innerHTML = `
                <h2>Act:</h2>
                <p>${data.title}</p>
                <p>${data.description}</p>
            `;

            // Update Compliance list
            complianceList.innerHTML = `<h1>Compliance List</h1>`;
            data.complianceSet.forEach(compliance => {
                const complianceItem = document.createElement('div');
                complianceItem.classList.add('compliance-item');
                complianceItem.innerHTML = `
                    <p>${compliance.description.split('\n')[0]}</p> <!-- Display only the first line -->
                    <button class="description-btn">Description</button>
                    <div class="compliance-details" style="display: none;">
                        <p><strong>Description:</strong> ${compliance.description}</p>
                        <p><strong>Reference:</strong> ${compliance.reference}</p>
                        <p><strong>Penalty:</strong> ${compliance.penalty}</p>
                        <p><strong>Form:</strong> ${compliance.form}</p>
                    </div>
                `;

                complianceItem.addEventListener('click', function () {
                    const detailsSection = complianceItem.querySelector('.compliance-details');
                    detailsSection.style.display = (detailsSection.style.display === 'none' || detailsSection.style.display === '') ? 'block' : 'none';
                });

                complianceList.appendChild(complianceItem);
            });
        })
        .catch(error => console.error('Error:', error));
});

    </script>
</body>

</html>
